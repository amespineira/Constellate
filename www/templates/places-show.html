<ion-view view-title="Place">
  <ion-content>
    <div class="list card placesList">
        <div class="item item-avatar" ng-show="!view.editing" style="text-align: center">
            <div class="TitlePeopleShow">
              <h2 style="font-size: 1.2em; font-weight: bold; line-height:2">
                {{view.place.name | capitalize}}
                <div class="ion-edit iconEdit" ng-click="view.showOpt=!view.showOpt; edit()" ng-show="!view.editing"></div>
              </h2>
            </div>
          </div>
          <h1 ng-show="view.editing" class="item item-input-inset" style="display: inline-block; border:none; width:80%;">
            <label class="item-input-wrapper">
               <span style="padding-left:10px"> <input name="name" type="text" ng-model="view.newName"/></span>
            </label>
          </h1>
          <button ng-show="view.showOpt" ng-click="confirmDelete()" class="button button-assertive editDelete ion-trash-a" style="font-size: 1.2em;">
          </button>
          <button ng-show="view.showOpt && view.editing" ng-click="edit(); view.showOpt=!view.showOpt" class="button button-balanced editDelete">
            Save
          </button>
        </div>
        <div>
          <div  style="padding-top:10px">
                <label class="item item-input item-select searchBy">
                  <div class="input-label">
                    Search By
                  </div>
                    <select ng-model="view.search.type">
                      <option selected value="name">Name</option>
                      <option  value="note">Note</option>
                    </select>
                </label>
            <div class="row">
              <div class="item item-input-inset col" ng-show="view.search.type==='name'">
                <label class="item-input-wrapper searchBy">
                  <i class="icon ion-ios-search placeholder-icon"></i>
                  <input type="search"  ng-model="view.search.name" placeholder="Name">
                </label>
              </div>
              <div class="item item-input-inset col" ng-show="view.search.type==='note'">
                <label class="item-input-wrapper" style="margin-bottom: 5px;">
                  <i class="icon ion-ios-search placeholder-icon"></i>
                  <input type="search"  ng-model="view.search.noteType" placeholder="Note Type">
                </label>
                <label class="item-input-wrapper searchBy">
                  <i class="icon ion-ios-search placeholder-icon"></i>
                  <input type="search"  ng-model="view.search.text" placeholder="Note Text"/>
                </label>
              </div>
            </div>
          </div>
        </div>
      <div class="list">
        <div class="item item-divider">
          People
        </div>
        <button class="button button-full" ng-click="addPerson()">+ Add New</button>

        <a ng-repeat="person in view.place.people | placeSearch : view.search" class="item" ng-click="display(person)">
          {{person.first_name | capitalize}} {{person.last_name | capitalize}}
        </a>
      </div>
  </ion-content>
</ion-view>
