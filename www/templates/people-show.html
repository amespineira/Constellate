<ion-view view-title="Showing Person">
  <ion-content>

      <div>
        <div class="item item-divider" ng-click="view.showOpt=!view.showOpt" ng-show="!view.editing" >
          {{view.person.first_name}} {{view.person.last_name}}
        </div>
        <div class="item item-divider" ng-show="view.editing">
          <label class="item item-input">
             <span style="padding-left:10px"> <input name="firstName" type="text" ng-model="view.newFirstName"/></span>
             <span style="padding-left:10px"> <input name="lastName" type="text" ng-model="view.newLastName"/></span>

          </label>
          <select ng-model="input.place" ng-options='place as place.name for place in places track by place.id' ng-change="showPopup()" name="place" required>
            <option value="NEW">+ Create New</option>
            <option value="" selected>Select a Place</option>
          </select>
        </div>

        <button ng-show="view.showOpt && !view.editing" ng-click="edit()" class="button button-balanced">
          Edit
        </button>
        <button ng-show="view.showOpt && view.editing" ng-click="edit()" class="button button-balanced">
          Save
        </button>
        <button ng-show="view.showOpt" ng-click="confirmDelete()" class="button button-assertive">
          Delete
        </button>
      </div>
      <div class="list">
        <div class="item item-divider">
          Notes
        </div>

        <a ng-repeat="note in view.person.notes" class="item" href="#">
          <div>Type: {{note.type}}
          </div>
          <div>Text: {{note.text}}
          </div>
        </a>
        <label class="item item-input">
           <span style="padding-left:10px"> <input name="type" type="text" ng-model="view.newType" placeholder="Type"/></span>
        </label>
        <label class="item item-input">
           <span style="padding-left:10px"> <input name="text" type="text" ng-model="view.newText" placeholder="Text"/></span>
        </label>
        <button ng-click="addNote()">+</button>
      </div>
      <div class="list">
        <div class="item item-divider">
          Links
        </div>

        <a ng-repeat="link in view.person.links" class="item" href="#">
          <div>Name: {{link.name}}
          </div>
          <div>Url: {{link.url}}
          </div>
        </a>
        <label class="item item-input">
           <span style="padding-left:10px"> <input name="type" type="text" ng-model="view.newName" placeholder="Type"/></span>
        </label>
        <label class="item item-input">
           <span style="padding-left:10px"> <input name="text" type="text" ng-model="view.newUrl" placeholder="Text"/></span>
        </label>
        <button ng-click="addLink()">+</button>
      </div>
      <button ng-click="goToPeople()">All People</button>

  </ion-content>
</ion-view>
